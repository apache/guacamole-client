<div class="guac-player-text-container">

    <div class="text-controls">
        <div class="filter">
            <input class="search-string"
                   placeholder="{{'PLAYER.FIELD_PLACEHOLDER_TEXT_BATCH_FILTER' | transloco}}"
                   type="text" [ngModel]="searchPhrase">
        </div>
        <span class="fullscreen-button" (click)="toggleKeyLogFullscreen()"></span>
    </div>

    <div class="result-count"
         [hidden]="!searchPhrase.length"
         transloco="PLAYER.INFO_NUMBER_OF_RESULTS"
         [translocoParams]="{RESULTS: filteredBatches.length}"></div>

    <div class="text-batches">
        <div *ngFor="let batch of filteredBatches" class="text-batch" (click)="seek(batch.events[0].timestamp)">
            <div class="timestamp">{{ formatTime(batch.events[0].timestamp) }}</div>
            <div class="text">
                <span
                        *ngFor="let event of batch.events"
                        class="key-event"
                        [ngClass]="{ 'not-typed' : !event.typed, 'future': event.timestamp >= currentPosition }"
                >{{ event.text }}</span>
            </div>
        </div>
    </div>
