<div class="connection-permissions">
    <div class="header tabbed">
        <h2 transloco="MANAGE_USER.SECTION_HEADER_CONNECTIONS"></h2>
        <guac-group-list-filter [placeholder]="'MANAGE_USER.FIELD_PLACEHOLDER_FILTER' | transloco"
        ></guac-group-list-filter>
    </div>
    <guac-section-tabs [namespace]="'MANAGE_USER'" [(current)]="currentTab" [tabs]="tabs"
                       (currentChange)="onCurrentTabChange()"></guac-section-tabs>
    <div class="section">
        <guac-group-list
            [context]="groupListContext"
            [connectionGroups]="rootGroupsDataSource?.filteredConnectionGroups | async"
            [templates]="{
                'connection'       : connectionPermission,
                'sharing-profile'  : sharingProfilePermission,
                'connection-group' : connectionGroupPermission
            }"
            [pageSize]="20"></guac-group-list>
    </div>
</div>

<!-- Template refs for the guac-group-list -->
<ng-template let-context="ctx" let-item="item" #connectionPermission>
    <guac-connection-permission [context]="context" [item]="item"></guac-connection-permission>
</ng-template>

<ng-template let-context="ctx" let-item="item" #sharingProfilePermission>
    <guac-sharing-profile-permission [context]="context" [item]="item"></guac-sharing-profile-permission>
</ng-template>

<ng-template let-context="ctx" let-item="item" #connectionGroupPermission>
    <guac-connection-group-permission [context]="context" [item]="item"></guac-connection-group-permission>
</ng-template>
